@startuml
!include entities.iuml

Client <-- TwitchClient
Client <-- DiscordClient

Bot --* PlatformBot

PlatformBot <-- TwitchBot
PlatformBot <-- DiscordBot

TwitchUser -- TwitchBot
DiscordUser -- DiscordBot


User "1" -- Bot
User -- Role

User "1" -- UserTwitchSubscription
UserTwitchSubscription -- "1" TwitchSubscription


PlatformUser <|-- TwitchUser
PlatformUser <|-- DiscordUser

Safe "1"-- Transaction

PlatformUser -- Safe

Token <|.. ClientToken
Token <|.. UserToken

User "1"-- Overlay
Overlay "1" -- WidgetGeometry

UserToken  -- "1" PlatformUser
UserToken   -- "1" User
ClientToken  -- "1" Client


Bot "1" -- BotExtension
BotExtension --"1" Extension



TwitchBot "1" -- JoinedTwitchChannel
DiscordBot "1" -- JoinedDiscordChannel


@enduml
