@startuml
!include entities.iuml
hide methods

User "1" -- Bot
User -- Role

User "1" -- UserTwitchSubscription
UserTwitchSubscription -- "1" TwitchSubscription

Safe "1" -- Transaction

PlatformUser -- Safe

PlatformUser -- "0-1" DiscordUser
PlatformUser -- "0-1" TwitchUser

Token <|.. ClientToken
Token <|.. UserToken

User "1"-- Overlay
Overlay "1" -- WidgetGeometry

UserToken  -- "1" DiscordUser
UserToken  -- "1" TwitchUser
UserToken   -- "1" User
ClientToken  -- "1" Client

User -- PlatformUser


Bot "1" -- BotExtension
Extension "1"-- BotExtension
Bot "1" -- JoinedChannel

JoinedChannel --"1" ViewerIdentity


@enduml
