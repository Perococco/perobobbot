@startuml
!include entities.iuml
hide methods

User "1" -- Bot
User -- Role

User "1" -- UserSubscription
UserSubscription -- "1" Subscription

Safe "1" -- Transaction

ViewerIdentity -- Safe

Token <|.. ClientToken
Token <|.. UserToken

User "1"-- Overlay
Overlay "1" -- WidgetGeometry

UserToken  -left- "1" ViewerIdentity
UserToken   -- "1" User
ClientToken  -- "1" Client


Bot "1" -- BotExtension
Extension "1"-- BotExtension
Bot "1" -- JoinedChannel

JoinedChannel --"1" ViewerIdentity


@enduml
